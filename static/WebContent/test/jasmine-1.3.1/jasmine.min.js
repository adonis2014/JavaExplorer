var isCommonJS=typeof window=="undefined"&&typeof exports=="object";var jasmine={};if(isCommonJS)exports.jasmine=jasmine;jasmine.unimplementedMethod_=function(){throw new Error("unimplemented method");};jasmine.undefined=jasmine.___undefined___;jasmine.VERBOSE=false;jasmine.DEFAULT_UPDATE_INTERVAL=250;jasmine.MAX_PRETTY_PRINT_DEPTH=40;jasmine.DEFAULT_TIMEOUT_INTERVAL=5000;jasmine.CATCH_EXCEPTIONS=true;jasmine.getGlobal=function(){function getGlobal(){return this}return getGlobal()};jasmine.bindOriginal_=function(a,b){var c=a[b];if(c.apply){return function(){return c.apply(a,arguments)}}else{return jasmine.getGlobal()[b]}};jasmine.setTimeout=jasmine.bindOriginal_(jasmine.getGlobal(),'setTimeout');jasmine.clearTimeout=jasmine.bindOriginal_(jasmine.getGlobal(),'clearTimeout');jasmine.setInterval=jasmine.bindOriginal_(jasmine.getGlobal(),'setInterval');jasmine.clearInterval=jasmine.bindOriginal_(jasmine.getGlobal(),'clearInterval');jasmine.MessageResult=function(a){this.type='log';this.values=a;this.trace=new Error()};jasmine.MessageResult.prototype.toString=function(){var a="";for(var i=0;i<this.values.length;i++){if(i>0)a+=" ";if(jasmine.isString_(this.values[i])){a+=this.values[i]}else{a+=jasmine.pp(this.values[i])}}return a};jasmine.ExpectationResult=function(a){this.type='expect';this.matcherName=a.matcherName;this.passed_=a.passed;this.expected=a.expected;this.actual=a.actual;this.message=this.passed_?'Passed.':a.message;var b=(a.trace||new Error(this.message));this.trace=this.passed_?'':b};jasmine.ExpectationResult.prototype.toString=function(){return this.message};jasmine.ExpectationResult.prototype.passed=function(){return this.passed_};jasmine.getEnv=function(){var a=jasmine.currentEnv_=jasmine.currentEnv_||new jasmine.Env();return a};jasmine.isArray_=function(a){return jasmine.isA_("Array",a)};jasmine.isString_=function(a){return jasmine.isA_("String",a)};jasmine.isNumber_=function(a){return jasmine.isA_("Number",a)};jasmine.isA_=function(a,b){return Object.prototype.toString.apply(b)==='[object '+a+']'};jasmine.pp=function(a){var b=new jasmine.StringPrettyPrinter();b.format(a);return b.string};jasmine.isDomNode=function(a){return a.nodeType>0};jasmine.any=function(a){return new jasmine.Matchers.Any(a)};jasmine.objectContaining=function(a){return new jasmine.Matchers.ObjectContaining(a)};jasmine.Spy=function(a){this.identity=a||'unknown';this.isSpy=true;this.plan=function(){};this.mostRecentCall={};this.argsForCall=[];this.calls=[]};jasmine.Spy.prototype.andCallThrough=function(){this.plan=this.originalValue;return this};jasmine.Spy.prototype.andReturn=function(a){this.plan=function(){return a};return this};jasmine.Spy.prototype.andThrow=function(a){this.plan=function(){throw a;};return this};jasmine.Spy.prototype.andCallFake=function(a){this.plan=a;return this};jasmine.Spy.prototype.reset=function(){this.wasCalled=false;this.callCount=0;this.argsForCall=[];this.calls=[];this.mostRecentCall={}};jasmine.createSpy=function(b){var c=function(){c.wasCalled=true;c.callCount++;var a=jasmine.util.argsToArray(arguments);c.mostRecentCall.object=this;c.mostRecentCall.args=a;c.argsForCall.push(a);c.calls.push({object:this,args:a});return c.plan.apply(this,arguments)};var d=new jasmine.Spy(b);for(var e in d){c[e]=d[e]}c.reset();return c};jasmine.isSpy=function(a){return a&&a.isSpy};jasmine.createSpyObj=function(a,b){if(!jasmine.isArray_(b)||b.length===0){throw new Error('createSpyObj requires a non-empty array of method names to create spies for');}var c={};for(var i=0;i<b.length;i++){c[b[i]]=jasmine.createSpy(a+'.'+b[i])}return c};jasmine.log=function(){var a=jasmine.getEnv().currentSpec;a.log.apply(a,arguments)};var spyOn=function(a,b){return jasmine.getEnv().currentSpec.spyOn(a,b)};if(isCommonJS)exports.spyOn=spyOn;var it=function(a,b){return jasmine.getEnv().it(a,b)};if(isCommonJS)exports.it=it;var xit=function(a,b){return jasmine.getEnv().xit(a,b)};if(isCommonJS)exports.xit=xit;var expect=function(a){return jasmine.getEnv().currentSpec.expect(a)};if(isCommonJS)exports.expect=expect;var runs=function(a){jasmine.getEnv().currentSpec.runs(a)};if(isCommonJS)exports.runs=runs;var waits=function(a){jasmine.getEnv().currentSpec.waits(a)};if(isCommonJS)exports.waits=waits;var waitsFor=function(a,b,c){jasmine.getEnv().currentSpec.waitsFor.apply(jasmine.getEnv().currentSpec,arguments)};if(isCommonJS)exports.waitsFor=waitsFor;var beforeEach=function(a){jasmine.getEnv().beforeEach(a)};if(isCommonJS)exports.beforeEach=beforeEach;var afterEach=function(a){jasmine.getEnv().afterEach(a)};if(isCommonJS)exports.afterEach=afterEach;var describe=function(a,b){return jasmine.getEnv().describe(a,b)};if(isCommonJS)exports.describe=describe;var xdescribe=function(a,b){return jasmine.getEnv().xdescribe(a,b)};if(isCommonJS)exports.xdescribe=xdescribe;jasmine.XmlHttpRequest=(typeof XMLHttpRequest=="undefined")?function(){function tryIt(f){try{return f()}catch(e){}return null}var a=tryIt(function(){return new ActiveXObject("Msxml2.XMLHTTP.6.0")})||tryIt(function(){return new ActiveXObject("Msxml2.XMLHTTP.3.0")})||tryIt(function(){return new ActiveXObject("Msxml2.XMLHTTP")})||tryIt(function(){return new ActiveXObject("Microsoft.XMLHTTP")});if(!a)throw new Error("This browser does not support XMLHttpRequest.");return a}:XMLHttpRequest;jasmine.util={};jasmine.util.inherit=function(a,b){var c=function(){};c.prototype=b.prototype;a.prototype=new c()};jasmine.util.formatException=function(e){var a;if(e.line){a=e.line}else if(e.lineNumber){a=e.lineNumber}var b;if(e.sourceURL){b=e.sourceURL}else if(e.fileName){b=e.fileName}var c=(e.name&&e.message)?(e.name+': '+e.message):e.toString();if(b&&a){c+=' in '+b+' (line '+a+')'}return c};jasmine.util.htmlEscape=function(a){if(!a)return a;return a.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;')};jasmine.util.argsToArray=function(a){var b=[];for(var i=0;i<a.length;i++)b.push(a[i]);return b};jasmine.util.extend=function(a,b){for(var c in b)a[c]=b[c];return a};jasmine.Env=function(){this.currentSpec=null;this.currentSuite=null;this.currentRunner_=new jasmine.Runner(this);this.reporter=new jasmine.MultiReporter();this.updateInterval=jasmine.DEFAULT_UPDATE_INTERVAL;this.defaultTimeoutInterval=jasmine.DEFAULT_TIMEOUT_INTERVAL;this.lastUpdate=0;this.specFilter=function(){return true};this.nextSpecId_=0;this.nextSuiteId_=0;this.equalityTesters_=[];this.matchersClass=function(){jasmine.Matchers.apply(this,arguments)};jasmine.util.inherit(this.matchersClass,jasmine.Matchers);jasmine.Matchers.wrapInto_(jasmine.Matchers.prototype,this.matchersClass)};jasmine.Env.prototype.setTimeout=jasmine.setTimeout;jasmine.Env.prototype.clearTimeout=jasmine.clearTimeout;jasmine.Env.prototype.setInterval=jasmine.setInterval;jasmine.Env.prototype.clearInterval=jasmine.clearInterval;jasmine.Env.prototype.version=function(){if(jasmine.version_){return jasmine.version_}else{throw new Error('Version not set');}};jasmine.Env.prototype.versionString=function(){if(!jasmine.version_){return"version unknown"}var a=this.version();var b=a.major+"."+a.minor+"."+a.build;if(a.release_candidate){b+=".rc"+a.release_candidate}b+=" revision "+a.revision;return b};jasmine.Env.prototype.nextSpecId=function(){return this.nextSpecId_++};jasmine.Env.prototype.nextSuiteId=function(){return this.nextSuiteId_++};jasmine.Env.prototype.addReporter=function(a){this.reporter.addReporter(a)};jasmine.Env.prototype.execute=function(){this.currentRunner_.execute()};jasmine.Env.prototype.describe=function(a,b){var c=new jasmine.Suite(this,a,b,this.currentSuite);var d=this.currentSuite;if(d){d.add(c)}else{this.currentRunner_.add(c)}this.currentSuite=c;var f=null;try{b.call(c)}catch(e){f=e}if(f){this.it("encountered a declaration exception",function(){throw f;})}this.currentSuite=d;return c};jasmine.Env.prototype.beforeEach=function(a){if(this.currentSuite){this.currentSuite.beforeEach(a)}else{this.currentRunner_.beforeEach(a)}};jasmine.Env.prototype.currentRunner=function(){return this.currentRunner_};jasmine.Env.prototype.afterEach=function(a){if(this.currentSuite){this.currentSuite.afterEach(a)}else{this.currentRunner_.afterEach(a)}};jasmine.Env.prototype.xdescribe=function(a,b){return{execute:function(){}}};jasmine.Env.prototype.it=function(a,b){var c=new jasmine.Spec(this,this.currentSuite,a);this.currentSuite.add(c);this.currentSpec=c;if(b){c.runs(b)}return c};jasmine.Env.prototype.xit=function(a,b){return{id:this.nextSpecId(),runs:function(){}}};jasmine.Env.prototype.compareRegExps_=function(a,b,c,d){if(a.source!=b.source)d.push("expected pattern /"+b.source+"/ is not equal to the pattern /"+a.source+"/");if(a.ignoreCase!=b.ignoreCase)d.push("expected modifier i was"+(b.ignoreCase?" ":" not ")+"set and does not equal the origin modifier");if(a.global!=b.global)d.push("expected modifier g was"+(b.global?" ":" not ")+"set and does not equal the origin modifier");if(a.multiline!=b.multiline)d.push("expected modifier m was"+(b.multiline?" ":" not ")+"set and does not equal the origin modifier");if(a.sticky!=b.sticky)d.push("expected modifier y was"+(b.sticky?" ":" not ")+"set and does not equal the origin modifier");return(d.length===0)};jasmine.Env.prototype.compareObjects_=function(a,b,c,d){if(a.__Jasmine_been_here_before__===b&&b.__Jasmine_been_here_before__===a){return true}a.__Jasmine_been_here_before__=b;b.__Jasmine_been_here_before__=a;var e=function(a,b){return a!==null&&a[b]!==jasmine.undefined};for(var f in b){if(!e(a,f)&&e(b,f)){c.push("expected has key '"+f+"', but missing from actual.")}}for(f in a){if(!e(b,f)&&e(a,f)){c.push("expected missing key '"+f+"', but present in actual.")}}for(f in b){if(f=='__Jasmine_been_here_before__')continue;if(!this.equals_(a[f],b[f],c,d)){d.push("'"+f+"' was '"+(b[f]?jasmine.util.htmlEscape(b[f].toString()):b[f])+"' in expected, but was '"+(a[f]?jasmine.util.htmlEscape(a[f].toString()):a[f])+"' in actual.")}}if(jasmine.isArray_(a)&&jasmine.isArray_(b)&&a.length!=b.length){d.push("arrays were not the same length")}delete a.__Jasmine_been_here_before__;delete b.__Jasmine_been_here_before__;return(c.length===0&&d.length===0)};jasmine.Env.prototype.equals_=function(a,b,c,d){c=c||[];d=d||[];for(var i=0;i<this.equalityTesters_.length;i++){var e=this.equalityTesters_[i];var f=e(a,b,this,c,d);if(f!==jasmine.undefined)return f}if(a===b)return true;if(a===jasmine.undefined||a===null||b===jasmine.undefined||b===null){return(a==jasmine.undefined&&b==jasmine.undefined)}if(jasmine.isDomNode(a)&&jasmine.isDomNode(b)){return a===b}if(a instanceof Date&&b instanceof Date){return a.getTime()==b.getTime()}if(a.jasmineMatches){return a.jasmineMatches(b)}if(b.jasmineMatches){return b.jasmineMatches(a)}if(a instanceof jasmine.Matchers.ObjectContaining){return a.matches(b)}if(b instanceof jasmine.Matchers.ObjectContaining){return b.matches(a)}if(jasmine.isString_(a)&&jasmine.isString_(b)){return(a==b)}if(jasmine.isNumber_(a)&&jasmine.isNumber_(b)){return(a==b)}if(a instanceof RegExp&&b instanceof RegExp){return this.compareRegExps_(a,b,c,d)}if(typeof a==="object"&&typeof b==="object"){return this.compareObjects_(a,b,c,d)}return(a===b)};jasmine.Env.prototype.contains_=function(a,b){if(jasmine.isArray_(a)){for(var i=0;i<a.length;i++){if(this.equals_(a[i],b))return true}return false}return a.indexOf(b)>=0};jasmine.Env.prototype.addEqualityTester=function(a){this.equalityTesters_.push(a)};jasmine.Reporter=function(){};jasmine.Reporter.prototype.reportRunnerStarting=function(a){};jasmine.Reporter.prototype.reportRunnerResults=function(a){};jasmine.Reporter.prototype.reportSuiteResults=function(a){};jasmine.Reporter.prototype.reportSpecStarting=function(a){};jasmine.Reporter.prototype.reportSpecResults=function(a){};jasmine.Reporter.prototype.log=function(a){};jasmine.Block=function(a,b,c){this.env=a;this.func=b;this.spec=c};jasmine.Block.prototype.execute=function(a){if(!jasmine.CATCH_EXCEPTIONS){this.func.apply(this.spec)}else{try{this.func.apply(this.spec)}catch(e){this.spec.fail(e)}}a()};jasmine.JsApiReporter=function(){this.started=false;this.finished=false;this.suites_=[];this.results_={}};jasmine.JsApiReporter.prototype.reportRunnerStarting=function(a){this.started=true;var b=a.topLevelSuites();for(var i=0;i<b.length;i++){var c=b[i];this.suites_.push(this.summarize_(c))}};jasmine.JsApiReporter.prototype.suites=function(){return this.suites_};jasmine.JsApiReporter.prototype.summarize_=function(a){var b=a instanceof jasmine.Suite;var c={id:a.id,name:a.description,type:b?'suite':'spec',children:[]};if(b){var d=a.children();for(var i=0;i<d.length;i++){c.children.push(this.summarize_(d[i]))}}return c};jasmine.JsApiReporter.prototype.results=function(){return this.results_};jasmine.JsApiReporter.prototype.resultsForSpec=function(a){return this.results_[a]};jasmine.JsApiReporter.prototype.reportRunnerResults=function(a){this.finished=true};jasmine.JsApiReporter.prototype.reportSuiteResults=function(a){};jasmine.JsApiReporter.prototype.reportSpecResults=function(a){this.results_[a.id]={messages:a.results().getItems(),result:a.results().failedCount>0?"failed":"passed"}};jasmine.JsApiReporter.prototype.log=function(a){};jasmine.JsApiReporter.prototype.resultsForSpecs=function(a){var b={};for(var i=0;i<a.length;i++){var c=a[i];b[c]=this.summarizeResult_(this.results_[c])}return b};jasmine.JsApiReporter.prototype.summarizeResult_=function(a){var b=[];var c=a.messages.length;for(var d=0;d<c;d++){var e=a.messages[d];b.push({text:e.type=='log'?e.toString():jasmine.undefined,passed:e.passed?e.passed():true,type:e.type,message:e.message,trace:{stack:e.passed&&!e.passed()?e.trace.stack:jasmine.undefined}})}return{result:a.result,messages:b}};jasmine.Matchers=function(a,b,c,d){this.env=a;this.actual=b;this.spec=c;this.isNot=d||false;this.reportWasCalled_=false};jasmine.Matchers.pp=function(a){throw new Error("jasmine.Matchers.pp() is no longer supported, please use jasmine.pp() instead!");};jasmine.Matchers.prototype.report=function(a,b,c){throw new Error("As of jasmine 0.11, custom matchers must be implemented differently -- please see jasmine docs");};jasmine.Matchers.wrapInto_=function(a,b){for(var c in a){if(c=='report')continue;var d=a[c];b.prototype[c]=jasmine.Matchers.matcherFn_(c,d)}};jasmine.Matchers.matcherFn_=function(f,g){return function(){var a=jasmine.util.argsToArray(arguments);var b=g.apply(this,arguments);if(this.isNot){b=!b}if(this.reportWasCalled_)return b;var c;if(!b){if(this.message){c=this.message.apply(this,arguments);if(jasmine.isArray_(c)){c=c[this.isNot?1:0]}}else{var d=f.replace(/[A-Z]/g,function(s){return' '+s.toLowerCase()});c="Expected "+jasmine.pp(this.actual)+(this.isNot?" not ":" ")+d;if(a.length>0){for(var i=0;i<a.length;i++){if(i>0)c+=",";c+=" "+jasmine.pp(a[i])}}c+="."}}var e=new jasmine.ExpectationResult({matcherName:f,passed:b,expected:a.length>1?a:a[0],actual:this.actual,message:c});this.spec.addMatcherResult(e);return jasmine.undefined}};jasmine.Matchers.prototype.toBe=function(a){return this.actual===a};jasmine.Matchers.prototype.toNotBe=function(a){return this.actual!==a};jasmine.Matchers.prototype.toEqual=function(a){return this.env.equals_(this.actual,a)};jasmine.Matchers.prototype.toNotEqual=function(a){return!this.env.equals_(this.actual,a)};jasmine.Matchers.prototype.toMatch=function(a){return new RegExp(a).test(this.actual)};jasmine.Matchers.prototype.toNotMatch=function(a){return!(new RegExp(a).test(this.actual))};jasmine.Matchers.prototype.toBeDefined=function(){return(this.actual!==jasmine.undefined)};jasmine.Matchers.prototype.toBeUndefined=function(){return(this.actual===jasmine.undefined)};jasmine.Matchers.prototype.toBeNull=function(){return(this.actual===null)};jasmine.Matchers.prototype.toBeNaN=function(){this.message=function(){return["Expected "+jasmine.pp(this.actual)+" to be NaN."]};return(this.actual!==this.actual)};jasmine.Matchers.prototype.toBeTruthy=function(){return!!this.actual};jasmine.Matchers.prototype.toBeFalsy=function(){return!this.actual};jasmine.Matchers.prototype.toHaveBeenCalled=function(){if(arguments.length>0){throw new Error('toHaveBeenCalled does not take arguments, use toHaveBeenCalledWith');}if(!jasmine.isSpy(this.actual)){throw new Error('Expected a spy, but got '+jasmine.pp(this.actual)+'.');}this.message=function(){return["Expected spy "+this.actual.identity+" to have been called.","Expected spy "+this.actual.identity+" not to have been called."]};return this.actual.wasCalled};jasmine.Matchers.prototype.wasCalled=jasmine.Matchers.prototype.toHaveBeenCalled;jasmine.Matchers.prototype.wasNotCalled=function(){if(arguments.length>0){throw new Error('wasNotCalled does not take arguments');}if(!jasmine.isSpy(this.actual)){throw new Error('Expected a spy, but got '+jasmine.pp(this.actual)+'.');}this.message=function(){return["Expected spy "+this.actual.identity+" to not have been called.","Expected spy "+this.actual.identity+" to have been called."]};return!this.actual.wasCalled};jasmine.Matchers.prototype.toHaveBeenCalledWith=function(){var c=jasmine.util.argsToArray(arguments);if(!jasmine.isSpy(this.actual)){throw new Error('Expected a spy, but got '+jasmine.pp(this.actual)+'.');}this.message=function(){var a="Expected spy "+this.actual.identity+" not to have been called with "+jasmine.pp(c)+" but it was.";var b="";if(this.actual.callCount===0){b="Expected spy "+this.actual.identity+" to have been called with "+jasmine.pp(c)+" but it was never called."}else{b="Expected spy "+this.actual.identity+" to have been called with "+jasmine.pp(c)+" but actual calls were "+jasmine.pp(this.actual.argsForCall).replace(/^\[ | \]$/g,'')}return[b,a]};return this.env.contains_(this.actual.argsForCall,c)};jasmine.Matchers.prototype.wasCalledWith=jasmine.Matchers.prototype.toHaveBeenCalledWith;jasmine.Matchers.prototype.wasNotCalledWith=function(){var a=jasmine.util.argsToArray(arguments);if(!jasmine.isSpy(this.actual)){throw new Error('Expected a spy, but got '+jasmine.pp(this.actual)+'.');}this.message=function(){return["Expected spy not to have been called with "+jasmine.pp(a)+" but it was","Expected spy to have been called with "+jasmine.pp(a)+" but it was"]};return!this.env.contains_(this.actual.argsForCall,a)};jasmine.Matchers.prototype.toContain=function(a){return this.env.contains_(this.actual,a)};jasmine.Matchers.prototype.toNotContain=function(a){return!this.env.contains_(this.actual,a)};jasmine.Matchers.prototype.toBeLessThan=function(a){return this.actual<a};jasmine.Matchers.prototype.toBeGreaterThan=function(a){return this.actual>a};jasmine.Matchers.prototype.toBeCloseTo=function(a,b){if(!(b===0)){b=b||2}return Math.abs(a-this.actual)<(Math.pow(10,-b)/2)};jasmine.Matchers.prototype.toThrow=function(a){var b=false;var c;if(typeof this.actual!='function'){throw new Error('Actual is not a function');}try{this.actual()}catch(e){c=e}if(c){b=(a===jasmine.undefined||this.env.equals_(c.message||c,a.message||a))}var d=this.isNot?"not ":"";this.message=function(){if(c&&(a===jasmine.undefined||!this.env.equals_(c.message||c,a.message||a))){return["Expected function "+d+"to throw",a?a.message||a:"an exception",", but it threw",c.message||c].join(' ')}else{return"Expected function to throw an exception."}};return b};jasmine.Matchers.Any=function(a){this.expectedClass=a};jasmine.Matchers.Any.prototype.jasmineMatches=function(a){if(this.expectedClass==String){return typeof a=='string'||a instanceof String}if(this.expectedClass==Number){return typeof a=='number'||a instanceof Number}if(this.expectedClass==Function){return typeof a=='function'||a instanceof Function}if(this.expectedClass==Object){return typeof a=='object'}return a instanceof this.expectedClass};jasmine.Matchers.Any.prototype.jasmineToString=function(){return'<jasmine.any('+this.expectedClass+')>'};jasmine.Matchers.ObjectContaining=function(a){this.sample=a};jasmine.Matchers.ObjectContaining.prototype.jasmineMatches=function(c,d,e){d=d||[];e=e||[];var f=jasmine.getEnv();var g=function(a,b){return a!=null&&a[b]!==jasmine.undefined};for(var h in this.sample){if(!g(c,h)&&g(this.sample,h)){d.push("expected has key '"+h+"', but missing from actual.")}else if(!f.equals_(this.sample[h],c[h],d,e)){e.push("'"+h+"' was '"+(c[h]?jasmine.util.htmlEscape(c[h].toString()):c[h])+"' in expected, but was '"+(this.sample[h]?jasmine.util.htmlEscape(this.sample[h].toString()):this.sample[h])+"' in actual.")}}return(d.length===0&&e.length===0)};jasmine.Matchers.ObjectContaining.prototype.jasmineToString=function(){return"<jasmine.objectContaining("+jasmine.pp(this.sample)+")>"};jasmine.FakeTimer=function(){this.reset();var c=this;c.setTimeout=function(a,b){c.timeoutsMade++;c.scheduleFunction(c.timeoutsMade,a,b,false);return c.timeoutsMade};c.setInterval=function(a,b){c.timeoutsMade++;c.scheduleFunction(c.timeoutsMade,a,b,true);return c.timeoutsMade};c.clearTimeout=function(a){c.scheduledFunctions[a]=jasmine.undefined};c.clearInterval=function(a){c.scheduledFunctions[a]=jasmine.undefined}};jasmine.FakeTimer.prototype.reset=function(){this.timeoutsMade=0;this.scheduledFunctions={};this.nowMillis=0};jasmine.FakeTimer.prototype.tick=function(a){var b=this.nowMillis;var c=b+a;this.runFunctionsWithinRange(b,c);this.nowMillis=c};jasmine.FakeTimer.prototype.runFunctionsWithinRange=function(c,d){var f;var g=[];for(var h in this.scheduledFunctions){f=this.scheduledFunctions[h];if(f!=jasmine.undefined&&f.runAtMillis>=c&&f.runAtMillis<=d){g.push(f);this.scheduledFunctions[h]=jasmine.undefined}}if(g.length>0){g.sort(function(a,b){return a.runAtMillis-b.runAtMillis});for(var i=0;i<g.length;++i){try{var j=g[i];this.nowMillis=j.runAtMillis;j.funcToCall();if(j.recurring){this.scheduleFunction(j.timeoutKey,j.funcToCall,j.millis,true)}}catch(e){}}this.runFunctionsWithinRange(c,d)}};jasmine.FakeTimer.prototype.scheduleFunction=function(a,b,c,d){this.scheduledFunctions[a]={runAtMillis:this.nowMillis+c,funcToCall:b,recurring:d,timeoutKey:a,millis:c}};jasmine.Clock={defaultFakeTimer:new jasmine.FakeTimer(),reset:function(){jasmine.Clock.assertInstalled();jasmine.Clock.defaultFakeTimer.reset()},tick:function(a){jasmine.Clock.assertInstalled();jasmine.Clock.defaultFakeTimer.tick(a)},runFunctionsWithinRange:function(a,b){jasmine.Clock.defaultFakeTimer.runFunctionsWithinRange(a,b)},scheduleFunction:function(a,b,c,d){jasmine.Clock.defaultFakeTimer.scheduleFunction(a,b,c,d)},useMock:function(){if(!jasmine.Clock.isInstalled()){var a=jasmine.getEnv().currentSpec;a.after(jasmine.Clock.uninstallMock);jasmine.Clock.installMock()}},installMock:function(){jasmine.Clock.installed=jasmine.Clock.defaultFakeTimer},uninstallMock:function(){jasmine.Clock.assertInstalled();jasmine.Clock.installed=jasmine.Clock.real},real:{setTimeout:jasmine.getGlobal().setTimeout,clearTimeout:jasmine.getGlobal().clearTimeout,setInterval:jasmine.getGlobal().setInterval,clearInterval:jasmine.getGlobal().clearInterval},assertInstalled:function(){if(!jasmine.Clock.isInstalled()){throw new Error("Mock clock is not installed, use jasmine.Clock.useMock()");}},isInstalled:function(){return jasmine.Clock.installed==jasmine.Clock.defaultFakeTimer},installed:null};jasmine.Clock.installed=jasmine.Clock.real;jasmine.getGlobal().setTimeout=function(a,b){if(jasmine.Clock.installed.setTimeout.apply){return jasmine.Clock.installed.setTimeout.apply(this,arguments)}else{return jasmine.Clock.installed.setTimeout(a,b)}};jasmine.getGlobal().setInterval=function(a,b){if(jasmine.Clock.installed.setInterval.apply){return jasmine.Clock.installed.setInterval.apply(this,arguments)}else{return jasmine.Clock.installed.setInterval(a,b)}};jasmine.getGlobal().clearTimeout=function(a){if(jasmine.Clock.installed.clearTimeout.apply){return jasmine.Clock.installed.clearTimeout.apply(this,arguments)}else{return jasmine.Clock.installed.clearTimeout(a)}};jasmine.getGlobal().clearInterval=function(a){if(jasmine.Clock.installed.clearTimeout.apply){return jasmine.Clock.installed.clearInterval.apply(this,arguments)}else{return jasmine.Clock.installed.clearInterval(a)}};jasmine.MultiReporter=function(){this.subReporters_=[]};jasmine.util.inherit(jasmine.MultiReporter,jasmine.Reporter);jasmine.MultiReporter.prototype.addReporter=function(a){this.subReporters_.push(a)};(function(){var c=["reportRunnerStarting","reportRunnerResults","reportSuiteResults","reportSpecStarting","reportSpecResults","log"];for(var i=0;i<c.length;i++){var d=c[i];jasmine.MultiReporter.prototype[d]=(function(b){return function(){for(var j=0;j<this.subReporters_.length;j++){var a=this.subReporters_[j];if(a[b]){a[b].apply(a,arguments)}}}})(d)}})();jasmine.NestedResults=function(){this.totalCount=0;this.passedCount=0;this.failedCount=0;this.skipped=false;this.items_=[]};jasmine.NestedResults.prototype.rollupCounts=function(a){this.totalCount+=a.totalCount;this.passedCount+=a.passedCount;this.failedCount+=a.failedCount};jasmine.NestedResults.prototype.log=function(a){this.items_.push(new jasmine.MessageResult(a))};jasmine.NestedResults.prototype.getItems=function(){return this.items_};jasmine.NestedResults.prototype.addResult=function(a){if(a.type!='log'){if(a.items_){this.rollupCounts(a)}else{this.totalCount++;if(a.passed()){this.passedCount++}else{this.failedCount++}}}this.items_.push(a)};jasmine.NestedResults.prototype.passed=function(){return this.passedCount===this.totalCount};jasmine.PrettyPrinter=function(){this.ppNestLevel_=0};jasmine.PrettyPrinter.prototype.format=function(a){this.ppNestLevel_++;try{if(a===jasmine.undefined){this.emitScalar('undefined')}else if(a===null){this.emitScalar('null')}else if(a===jasmine.getGlobal()){this.emitScalar('<global>')}else if(a.jasmineToString){this.emitScalar(a.jasmineToString())}else if(typeof a==='string'){this.emitString(a)}else if(jasmine.isSpy(a)){this.emitScalar("spy on "+a.identity)}else if(a instanceof RegExp){this.emitScalar(a.toString())}else if(typeof a==='function'){this.emitScalar('Function')}else if(typeof a.nodeType==='number'){this.emitScalar('HTMLNode')}else if(a instanceof Date){this.emitScalar('Date('+a+')')}else if(a.__Jasmine_been_here_before__){this.emitScalar('<circular reference: '+(jasmine.isArray_(a)?'Array':'Object')+'>')}else if(jasmine.isArray_(a)||typeof a=='object'){a.__Jasmine_been_here_before__=true;if(jasmine.isArray_(a)){this.emitArray(a)}else{this.emitObject(a)}delete a.__Jasmine_been_here_before__}else{this.emitScalar(a.toString())}}finally{this.ppNestLevel_--}};jasmine.PrettyPrinter.prototype.iterateObject=function(a,b){for(var c in a){if(!a.hasOwnProperty(c))continue;if(c=='__Jasmine_been_here_before__')continue;b(c,a.__lookupGetter__?(a.__lookupGetter__(c)!==jasmine.undefined&&a.__lookupGetter__(c)!==null):false)}};jasmine.PrettyPrinter.prototype.emitArray=jasmine.unimplementedMethod_;jasmine.PrettyPrinter.prototype.emitObject=jasmine.unimplementedMethod_;jasmine.PrettyPrinter.prototype.emitScalar=jasmine.unimplementedMethod_;jasmine.PrettyPrinter.prototype.emitString=jasmine.unimplementedMethod_;jasmine.StringPrettyPrinter=function(){jasmine.PrettyPrinter.call(this);this.string=''};jasmine.util.inherit(jasmine.StringPrettyPrinter,jasmine.PrettyPrinter);jasmine.StringPrettyPrinter.prototype.emitScalar=function(a){this.append(a)};jasmine.StringPrettyPrinter.prototype.emitString=function(a){this.append("'"+a+"'")};jasmine.StringPrettyPrinter.prototype.emitArray=function(a){if(this.ppNestLevel_>jasmine.MAX_PRETTY_PRINT_DEPTH){this.append("Array");return}this.append('[ ');for(var i=0;i<a.length;i++){if(i>0){this.append(', ')}this.format(a[i])}this.append(' ]')};jasmine.StringPrettyPrinter.prototype.emitObject=function(c){if(this.ppNestLevel_>jasmine.MAX_PRETTY_PRINT_DEPTH){this.append("Object");return}var d=this;this.append('{ ');var e=true;this.iterateObject(c,function(a,b){if(e){e=false}else{d.append(', ')}d.append(a);d.append(' : ');if(b){d.append('<getter>')}else{d.format(c[a])}});this.append(' }')};jasmine.StringPrettyPrinter.prototype.append=function(a){this.string+=a};jasmine.Queue=function(a){this.env=a;this.ensured=[];this.blocks=[];this.running=false;this.index=0;this.offset=0;this.abort=false};jasmine.Queue.prototype.addBefore=function(a,b){if(b===jasmine.undefined){b=false}this.blocks.unshift(a);this.ensured.unshift(b)};jasmine.Queue.prototype.add=function(a,b){if(b===jasmine.undefined){b=false}this.blocks.push(a);this.ensured.push(b)};jasmine.Queue.prototype.insertNext=function(a,b){if(b===jasmine.undefined){b=false}this.ensured.splice((this.index+this.offset+1),0,b);this.blocks.splice((this.index+this.offset+1),0,a);this.offset++};jasmine.Queue.prototype.start=function(a){this.running=true;this.onComplete=a;this.next_()};jasmine.Queue.prototype.isRunning=function(){return this.running};jasmine.Queue.LOOP_DONT_RECURSE=true;jasmine.Queue.prototype.next_=function(){var b=this;var c=true;while(c){c=false;if(b.index<b.blocks.length&&!(this.abort&&!this.ensured[b.index])){var d=true;var e=false;var f=function(){if(jasmine.Queue.LOOP_DONT_RECURSE&&d){e=true;return}if(b.blocks[b.index].abort){b.abort=true}b.offset=0;b.index++;var a=new Date().getTime();if(b.env.updateInterval&&a-b.env.lastUpdate>b.env.updateInterval){b.env.lastUpdate=a;b.env.setTimeout(function(){b.next_()},0)}else{if(jasmine.Queue.LOOP_DONT_RECURSE&&e){c=true}else{b.next_()}}};b.blocks[b.index].execute(f);d=false;if(e){f()}}else{b.running=false;if(b.onComplete){b.onComplete()}}}};jasmine.Queue.prototype.results=function(){var a=new jasmine.NestedResults();for(var i=0;i<this.blocks.length;i++){if(this.blocks[i].results){a.addResult(this.blocks[i].results())}}return a};jasmine.Runner=function(a){var b=this;b.env=a;b.queue=new jasmine.Queue(a);b.before_=[];b.after_=[];b.suites_=[]};jasmine.Runner.prototype.execute=function(){var a=this;if(a.env.reporter.reportRunnerStarting){a.env.reporter.reportRunnerStarting(this)}a.queue.start(function(){a.finishCallback()})};jasmine.Runner.prototype.beforeEach=function(a){a.typeName='beforeEach';this.before_.splice(0,0,a)};jasmine.Runner.prototype.afterEach=function(a){a.typeName='afterEach';this.after_.splice(0,0,a)};jasmine.Runner.prototype.finishCallback=function(){this.env.reporter.reportRunnerResults(this)};jasmine.Runner.prototype.addSuite=function(a){this.suites_.push(a)};jasmine.Runner.prototype.add=function(a){if(a instanceof jasmine.Suite){this.addSuite(a)}this.queue.add(a)};jasmine.Runner.prototype.specs=function(){var a=this.suites();var b=[];for(var i=0;i<a.length;i++){b=b.concat(a[i].specs())}return b};jasmine.Runner.prototype.suites=function(){return this.suites_};jasmine.Runner.prototype.topLevelSuites=function(){var a=[];for(var i=0;i<this.suites_.length;i++){if(!this.suites_[i].parentSuite){a.push(this.suites_[i])}}return a};jasmine.Runner.prototype.results=function(){return this.queue.results()};jasmine.Spec=function(a,b,c){if(!a){throw new Error('jasmine.Env() required');}if(!b){throw new Error('jasmine.Suite() required');}var d=this;d.id=a.nextSpecId?a.nextSpecId():null;d.env=a;d.suite=b;d.description=c;d.queue=new jasmine.Queue(a);d.afterCallbacks=[];d.spies_=[];d.results_=new jasmine.NestedResults();d.results_.description=c;d.matchersClass=null};jasmine.Spec.prototype.getFullName=function(){return this.suite.getFullName()+' '+this.description+'.'};jasmine.Spec.prototype.results=function(){return this.results_};jasmine.Spec.prototype.log=function(){return this.results_.log(arguments)};jasmine.Spec.prototype.runs=function(a){var b=new jasmine.Block(this.env,a,this);this.addToQueue(b);return this};jasmine.Spec.prototype.addToQueue=function(a){if(this.queue.isRunning()){this.queue.insertNext(a)}else{this.queue.add(a)}};jasmine.Spec.prototype.addMatcherResult=function(a){this.results_.addResult(a)};jasmine.Spec.prototype.expect=function(a){var b=new(this.getMatchersClass_())(this.env,a,this);b.not=new(this.getMatchersClass_())(this.env,a,this,true);return b};jasmine.Spec.prototype.waits=function(a){var b=new jasmine.WaitsBlock(this.env,a,this);this.addToQueue(b);return this};jasmine.Spec.prototype.waitsFor=function(a,b,c){var d=null;var e=null;var f=null;for(var i=0;i<arguments.length;i++){var g=arguments[i];switch(typeof g){case'function':d=g;break;case'string':e=g;break;case'number':f=g;break}}var h=new jasmine.WaitsForBlock(this.env,f,d,e,this);this.addToQueue(h);return this};jasmine.Spec.prototype.fail=function(e){var a=new jasmine.ExpectationResult({passed:false,message:e?jasmine.util.formatException(e):'Exception',trace:{stack:e.stack}});this.results_.addResult(a)};jasmine.Spec.prototype.getMatchersClass_=function(){return this.matchersClass||this.env.matchersClass};jasmine.Spec.prototype.addMatchers=function(a){var b=this.getMatchersClass_();var c=function(){b.apply(this,arguments)};jasmine.util.inherit(c,b);jasmine.Matchers.wrapInto_(a,c);this.matchersClass=c};jasmine.Spec.prototype.finishCallback=function(){this.env.reporter.reportSpecResults(this)};jasmine.Spec.prototype.finish=function(a){this.removeAllSpies();this.finishCallback();if(a){a()}};jasmine.Spec.prototype.after=function(a){if(this.queue.isRunning()){this.queue.add(new jasmine.Block(this.env,a,this),true)}else{this.afterCallbacks.unshift(a)}};jasmine.Spec.prototype.execute=function(a){var b=this;if(!b.env.specFilter(b)){b.results_.skipped=true;b.finish(a);return}this.env.reporter.reportSpecStarting(this);b.env.currentSpec=b;b.addBeforesAndAftersToQueue();b.queue.start(function(){b.finish(a)})};jasmine.Spec.prototype.addBeforesAndAftersToQueue=function(){var a=this.env.currentRunner();var i;for(var b=this.suite;b;b=b.parentSuite){for(i=0;i<b.before_.length;i++){this.queue.addBefore(new jasmine.Block(this.env,b.before_[i],this))}}for(i=0;i<a.before_.length;i++){this.queue.addBefore(new jasmine.Block(this.env,a.before_[i],this))}for(i=0;i<this.afterCallbacks.length;i++){this.queue.add(new jasmine.Block(this.env,this.afterCallbacks[i],this),true)}for(b=this.suite;b;b=b.parentSuite){for(i=0;i<b.after_.length;i++){this.queue.add(new jasmine.Block(this.env,b.after_[i],this),true)}}for(i=0;i<a.after_.length;i++){this.queue.add(new jasmine.Block(this.env,a.after_[i],this),true)}};jasmine.Spec.prototype.explodes=function(){throw'explodes function should not have been called';};jasmine.Spec.prototype.spyOn=function(a,b,c){if(a==jasmine.undefined){throw"spyOn could not find an object to spy upon for "+b+"()";}if(!c&&a[b]===jasmine.undefined){throw b+'() method does not exist';}if(!c&&a[b]&&a[b].isSpy){throw new Error(b+' has already been spied upon');}var d=jasmine.createSpy(b);this.spies_.push(d);d.baseObj=a;d.methodName=b;d.originalValue=a[b];a[b]=d;return d};jasmine.Spec.prototype.removeAllSpies=function(){for(var i=0;i<this.spies_.length;i++){var a=this.spies_[i];a.baseObj[a.methodName]=a.originalValue}this.spies_=[]};jasmine.Suite=function(a,b,c,d){var e=this;e.id=a.nextSuiteId?a.nextSuiteId():null;e.description=b;e.queue=new jasmine.Queue(a);e.parentSuite=d;e.env=a;e.before_=[];e.after_=[];e.children_=[];e.suites_=[];e.specs_=[]};jasmine.Suite.prototype.getFullName=function(){var a=this.description;for(var b=this.parentSuite;b;b=b.parentSuite){a=b.description+' '+a}return a};jasmine.Suite.prototype.finish=function(a){this.env.reporter.reportSuiteResults(this);this.finished=true;if(typeof(a)=='function'){a()}};jasmine.Suite.prototype.beforeEach=function(a){a.typeName='beforeEach';this.before_.unshift(a)};jasmine.Suite.prototype.afterEach=function(a){a.typeName='afterEach';this.after_.unshift(a)};jasmine.Suite.prototype.results=function(){return this.queue.results()};jasmine.Suite.prototype.add=function(a){this.children_.push(a);if(a instanceof jasmine.Suite){this.suites_.push(a);this.env.currentRunner().addSuite(a)}else{this.specs_.push(a)}this.queue.add(a)};jasmine.Suite.prototype.specs=function(){return this.specs_};jasmine.Suite.prototype.suites=function(){return this.suites_};jasmine.Suite.prototype.children=function(){return this.children_};jasmine.Suite.prototype.execute=function(a){var b=this;this.queue.start(function(){b.finish(a)})};jasmine.WaitsBlock=function(a,b,c){this.timeout=b;jasmine.Block.call(this,a,null,c)};jasmine.util.inherit(jasmine.WaitsBlock,jasmine.Block);jasmine.WaitsBlock.prototype.execute=function(a){if(jasmine.VERBOSE){this.env.reporter.log('>> Jasmine waiting for '+this.timeout+' ms...')}this.env.setTimeout(function(){a()},this.timeout)};jasmine.WaitsForBlock=function(a,b,c,d,e){this.timeout=b||a.defaultTimeoutInterval;this.latchFunction=c;this.message=d;this.totalTimeSpentWaitingForLatch=0;jasmine.Block.call(this,a,null,e)};jasmine.util.inherit(jasmine.WaitsForBlock,jasmine.Block);jasmine.WaitsForBlock.TIMEOUT_INCREMENT=10;jasmine.WaitsForBlock.prototype.execute=function(a){if(jasmine.VERBOSE){this.env.reporter.log('>> Jasmine waiting for '+(this.message||'something to happen'))}var b;try{b=this.latchFunction.apply(this.spec)}catch(e){this.spec.fail(e);a();return}if(b){a()}else if(this.totalTimeSpentWaitingForLatch>=this.timeout){var c='timed out after '+this.timeout+' msec waiting for '+(this.message||'something to happen');this.spec.fail({name:'timeout',message:c});this.abort=true;a()}else{this.totalTimeSpentWaitingForLatch+=jasmine.WaitsForBlock.TIMEOUT_INCREMENT;var d=this;this.env.setTimeout(function(){d.execute(a)},jasmine.WaitsForBlock.TIMEOUT_INCREMENT)}};jasmine.version_={"major":1,"minor":3,"build":1,"revision":1354556913};